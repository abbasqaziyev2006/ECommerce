@model HomeViewModel

<!-- Slider -->
<section class="tf-sw-slideshow slider-effect-fade slider-supplement position-relative">
    <div class="wrap-slider">
        <img class="lazyload" data-src="/images/slider/supplement-1.jpg" src="~/images/slider/supplement-1.jpg" alt="supplement-slideshow">
        <div class="box-content">
            <div class="container">
                <div class="wrap">
                    <p class="fade-item fade-item-1 subheading text-white fw-7 mb-0">NATURAL SUPPLEMENTS</p>
                    <h1 class="fade-item fade-item-2 heading text-white fw-7 font-roboto-condensed fst-italic">
                        UNLOCK YOUR <br> POTENTIAL
                    </h1>
                    <div class="fade-item fade-item-3">
                        <a asp-controller="Shop" asp-action="Index" class="fw-7 tf-btn btn-light-icon animate-hover-btn btn-xl rounded-0 font-roboto-condensed">
                            <span>SHOP NOW</span><i class="icon icon-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Countdown -->
<section class="flat-spacing-34 bg_violet-3">
    <div class="container">
        <div class="tf-grid-layout md-col-2 align-items-center flat-wrap-countdown">
            <div class="tf-content-wrap-v2 wow fadeInUp" data-wow-delay="0s">
                <h4 class="heading font-roboto-condensed fw-7 fst-italic">ONE-TIME ONLY</h4>
                <p class="description">Special Offers You Can't Miss: These deals won't last forever!</p>
                <a asp-controller="Shop" asp-action="Index" class="tf-btn btn-line font-roboto-condensed fw-7">
                    SHOP NOW<i class="icon icon-arrow1-top-left"></i>
                </a>
            </div>
            <div class="tf-countdown-v2 type-end wow fadeInUp" data-wow-delay="0s">
                <div class="js-countdown" data-timer="8007500" data-labels="Days,Hours,Mins,Secs"></div>
            </div>
        </div>
    </div>
</section>

<!-- Most Popular Products -->
<section class="flat-spacing-17 pt_0">
    <div class="container">
        <div class="flat-title wow fadeInUp" data-wow-delay="0s">
            <span class="title fw-7 font-roboto-condensed text-uppercase">MOST POPULAR</span>
        </div>
        <div class="flat-animate-tab overflow-unset">
            <ul class="widget-tab-3 d-flex justify-content-center wow fadeInUp" data-wow-delay="0s" role="tablist">
                <li class="nav-tab-item" role="presentation">
                    <a href="#Supplement" class="active" data-bs-toggle="tab">Supplement</a>
                </li>
                <li class="nav-tab-item" role="presentation">
                    <a href="#Protein" data-bs-toggle="tab">Protein</a>
                </li>
                <li class="nav-tab-item" role="presentation">
                    <a href="#Accessories" data-bs-toggle="tab">Accessories</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active show" id="Supplement" role="tabpanel">
                    <div class="wrap-carousel">
                        <div dir="ltr" class="swiper tf-sw-product-sell wrap-sw-over" data-preview="4" data-tablet="2" data-mobile="1" data-space-lg="30" data-space-md="15" data-pagination="1" data-pagination-md="1" data-pagination-lg="1">
                            <div class="swiper-wrapper">
                                @foreach (var product in Model.Products)
                                {
                                    <div class="swiper-slide" lazy="true">
                                        <div class="card-product style-5">
                                            <div class="card-product-wrapper aspect-1 rounded-0">
                                                <a asp-controller="Product" asp-action="Details" asp-route-id="@product.DetailsUrl" class="product-img">
                                                    <img class="lazyload img-product" data-src="/images/products/@product.CoverImageName" src="~/images/products/@product.CoverImageName" alt="@product.Name">
                                                </a>
                                                <div class="list-product-btn gap-0">
                                                    <a href="javascript:void(0)" onclick="addToWishlist('@product.Id')" class="box-icon bg_white wishlist btn-icon-action shadow-none">
                                                        <span class="icon icon-heart"></span>
                                                        <span class="tooltip">Add to Wishlist</span>
                                                        <span class="icon icon-delete"></span>
                                                    </a>
                                                    <a href="#quick_add" data-bs-toggle="modal" class="box-icon bg_white quick-add tf-btn-loading shadow-none">
                                                        <span class="icon icon-bag"></span>
                                                        <span class="tooltip">Quick Add</span>
                                                    </a>
                                                    <a href="#compare" data-bs-toggle="offcanvas" aria-controls="offcanvasLeft" class="box-icon bg_white compare btn-icon-action shadow-none">
                                                        <span class="icon icon-compare"></span>
                                                        <span class="tooltip">Add to Compare</span>
                                                        <span class="icon icon-check"></span>
                                                    </a>
                                                    <a href="#quick_view" data-bs-toggle="modal" class="box-icon bg_white quickview tf-btn-loading shadow-none">
                                                        <span class="icon icon-view"></span>
                                                        <span class="tooltip">Quick View</span>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="card-product-info text-center">
                                                <a asp-controller="Product" asp-action="Details" asp-route-id="@product.DetailsUrl" class="title link fw-7 font-roboto-condensed fst-italic text-uppercase">
                                                    @product.Name
                                                </a>
                                                <span class="price">$@product.BasePrice</span>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                            <div class="nav-sw nav-next-slider nav-next-product box-icon w_46 round">
                                <span class="icon icon-arrow-left"></span>
                            </div>
                            <div class="nav-sw nav-prev-slider nav-prev-product box-icon w_46 round">
                                <span class="icon icon-arrow-right"></span>
                            </div>
                            <div class="sw-dots style-2 sw-pagination-product justify-content-center"></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="Protein" role="tabpanel">
                    <!-- Protein products -->
                </div>
                <div class="tab-pane" id="Accessories" role="tabpanel">
                    <!-- Accessories -->
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Categories -->
<section class="flat-spacing-33 sec-bg-banner" style="background-image: url(images/slider/cls-grid-supplement.png);">
    <div class="container">
        <div class="flat-title wow fadeInUp" data-wow-delay="0s">
            <span class="title font-roboto-condensed fw-7 fst-italic text_white">POPULAR CATEGORIES</span>
        </div>
        <div class="masonry-layout style-2 style-4 wow fadeInUp">
            <div class="item-1 collection-item large hover-img">
                <div class="collection-inner">
                    <a asp-controller="Shop" asp-action="Index" class="collection-image img-style rounded-0">
                        <img class="lazyload" data-src="/images/collections/cls-supplement-4.jpg" src="~/images/collections/cls-supplement-4.jpg" alt="collection-img">
                    </a>
                    <div class="collection-content">
                        <a asp-controller="Shop" asp-action="Index" class="tf-btn rounded-0 fw-7 font-roboto-condensed collection-title hover-icon">
                            <span>PROTEIN</span><i class="icon icon-arrow1-top-left"></i>
                        </a>
                    </div>
                </div>
            </div>
            <!-- Additional category items -->
        </div>
    </div>
</section>

<!-- Testimonials -->
<section class="flat-spacing-12 line">
    <div class="container">
        <div class="flat-title wow fadeInUp" data-wow-delay="0s">
            <span class="title font-roboto-condensed fw-7 fst-italic">TESTIMONIALS</span>
        </div>
        <div class="wrap-carousel wow fadeInUp" data-wow-delay="0s">
            <div dir="ltr" class="swiper tf-sw-testimonial" data-preview="1" data-tablet="1" data-mobile="1" data-space-lg="30" data-space-md="15">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="testimonial-item lg text-center">
                            <div class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="46" height="31" viewBox="0 0 46 31" fill="none">
                                    <path d="M32.4413 30.5L37.8204 19.9545L38.1913 19.2273H37.375H26.375V0.5H45.5V19.6071L39.9438 30.5H32.4413ZM6.56633 30.5L11.9454 19.9545L12.3163 19.2273H11.5H0.5V0.5H19.625V19.6071L14.0688 30.5H6.56633Z" stroke="#B5B5B5"></path>
                                </svg>
                            </div>
                            <div class="rating justify-content-center">
                                <i class="icon-star"></i>
                                <i class="icon-star"></i>
                                <i class="icon-star"></i>
                                <i class="icon-star"></i>
                                <i class="icon-star"></i>
                            </div>
                            <p class="text">
                                "This supplement has significantly boosted my energy levels, enhanced my overall workout performance, and helped me feel more revitalized throughout the day."
                            </p>
                            <div class="divider mx-auto"></div>
                            <div class="author box-author text-center justify-content-center">
                                <div class="box-img d-md-none">
                                    <img class="lazyload img-product" data-src="/images/item/tets1.jpg" src="~/images/item/tets1.jpg" alt="image-product">
                                </div>
                                <div class="content">
                                    <div class="name">Robert Smith</div>
                                    <a asp-controller="Product" asp-action="Details" class="metas link text_black">
                                        Purchase item: <span>Evolve Lipo Whey</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="nav-sw nav-next-slider nav-next-testimonial lg">
                <span class="icon icon-arrow-left"></span>
            </div>
            <div class="nav-sw nav-prev-slider nav-prev-testimonial lg">
                <span class="icon icon-arrow-right"></span>
            </div>
            <div class="sw-dots style-2 sw-pagination-testimonial justify-content-center"></div>
        </div>
    </div>
</section>

<script>
    function addToWishlist(productId){
        fetch(`/account/addwishlist/${productId}`, {
            method: 'POST'
        })
        .then(response=>{
            if(response.ok){
                alert('Product added to wishlist');
            }
            else
            {
                alert('Failed');
            }
        })
        .catch(error=>{
            console.error('Error:', error);
            alert('An error occurred');
        });
    }
</script>
